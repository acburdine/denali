"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const assert = require("assert");
const lodash_1 = require("lodash");
const object_1 = require("../metal/object");
/**
 * The Response class represents a response to an incoming request. You can return an instance of
 * this class from your action's responder method to render a response with a custom status code,
 * headers, or body.
 *
 * @package runtime
 * @since 0.1.0
 */
class Response extends object_1.default {
    constructor(status, body, options = {}) {
        super();
        assert(lodash_1.isNumber(status), 'You must at least supply a status code when creating a response');
        this.status = status;
        this.body = body;
        this.options = options;
    }
    /**
     * The content type of the response. Set via the `options` argument of the Response constructor.
     *
     * @since 0.1.0
     */
    get contentType() {
        return this.options.contentType || 'application/json';
    }
    set contentType(value) {
        this.options.contentType = value;
    }
}
exports.default = Response;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzcG9uc2UuanMiLCJzb3VyY2VSb290IjoiL1VzZXJzL2FjYnVyZGluZS9Qcm9qZWN0cy9kZW5hbGkvZGVuYWxpLyIsInNvdXJjZXMiOlsibGliL3J1bnRpbWUvcmVzcG9uc2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxpQ0FBaUM7QUFDakMsbUNBRWdCO0FBQ2hCLDRDQUEyQztBQUczQzs7Ozs7OztHQU9HO0FBQ0gsY0FBOEIsU0FBUSxnQkFBWTtJQXdCaEQsWUFBWSxNQUFjLEVBQUUsSUFBVSxFQUFFLFVBQWUsRUFBRTtRQUN2RCxLQUFLLEVBQUUsQ0FBQztRQUNSLE1BQU0sQ0FBQyxpQkFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFLGlFQUFpRSxDQUFDLENBQUM7UUFDNUYsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7SUFDekIsQ0FBQztJQUVEOzs7O09BSUc7SUFDSCxJQUFXLFdBQVc7UUFDcEIsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxJQUFJLGtCQUFrQixDQUFDO0lBQ3hELENBQUM7SUFDRCxJQUFXLFdBQVcsQ0FBQyxLQUFhO1FBQ2xDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztJQUNuQyxDQUFDO0NBRUY7QUE1Q0QsMkJBNENDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQge1xuICBpc051bWJlclxufSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IERlbmFsaU9iamVjdCBmcm9tICcuLi9tZXRhbC9vYmplY3QnO1xuaW1wb3J0ICogYXMgaHR0cCBmcm9tICdodHRwJztcblxuLyoqXG4gKiBUaGUgUmVzcG9uc2UgY2xhc3MgcmVwcmVzZW50cyBhIHJlc3BvbnNlIHRvIGFuIGluY29taW5nIHJlcXVlc3QuIFlvdSBjYW4gcmV0dXJuIGFuIGluc3RhbmNlIG9mXG4gKiB0aGlzIGNsYXNzIGZyb20geW91ciBhY3Rpb24ncyByZXNwb25kZXIgbWV0aG9kIHRvIHJlbmRlciBhIHJlc3BvbnNlIHdpdGggYSBjdXN0b20gc3RhdHVzIGNvZGUsXG4gKiBoZWFkZXJzLCBvciBib2R5LlxuICpcbiAqIEBwYWNrYWdlIHJ1bnRpbWVcbiAqIEBzaW5jZSAwLjEuMFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXNwb25zZSBleHRlbmRzIERlbmFsaU9iamVjdCB7XG5cbiAgLyoqXG4gICAqIFRoZSBIVFRQIHN0YXR1cyBjb2RlIHRvIHNlbmQgaW4gdGhlIHJlc3BvbnNlXG4gICAqXG4gICAqIEBzaW5jZSAwLjEuMFxuICAgKi9cbiAgcHVibGljIHN0YXR1czogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgcmVzcG9uc2UgYm9keVxuICAgKlxuICAgKiBAc2luY2UgMC4xLjBcbiAgICovXG4gIHB1YmxpYyBib2R5OiBhbnk7XG5cbiAgLyoqXG4gICAqIEFueSBjdXN0b20gb3B0aW9ucyBmb3IgdGhpcyByZXNwb25zZS4gVGhpcyBvYmplY3QgaXMgYXZhaWxhYmxlIHRvIHRoZSBzZXJpYWxpemVyIGFzIGl0IGF0dGVtcHRzXG4gICAqIHRvIHNlcmlhbGl6ZSB0aGlzIHJlc3BvbnNlLCBzbyB5b3UgY2FuIHBhc3MgdGhyb3VnaCBzZXJpYWxpemVyIHNwZWNpZmljIG9wdGlvbnMgaGVyZS5cbiAgICpcbiAgICogQHNpbmNlIDAuMS4wXG4gICAqL1xuICBwdWJsaWMgb3B0aW9uczogYW55O1xuXG4gIGNvbnN0cnVjdG9yKHN0YXR1czogbnVtYmVyLCBib2R5PzogYW55LCBvcHRpb25zOiBhbnkgPSB7fSkge1xuICAgIHN1cGVyKCk7XG4gICAgYXNzZXJ0KGlzTnVtYmVyKHN0YXR1cyksICdZb3UgbXVzdCBhdCBsZWFzdCBzdXBwbHkgYSBzdGF0dXMgY29kZSB3aGVuIGNyZWF0aW5nIGEgcmVzcG9uc2UnKTtcbiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGNvbnRlbnQgdHlwZSBvZiB0aGUgcmVzcG9uc2UuIFNldCB2aWEgdGhlIGBvcHRpb25zYCBhcmd1bWVudCBvZiB0aGUgUmVzcG9uc2UgY29uc3RydWN0b3IuXG4gICAqXG4gICAqIEBzaW5jZSAwLjEuMFxuICAgKi9cbiAgcHVibGljIGdldCBjb250ZW50VHlwZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuY29udGVudFR5cGUgfHwgJ2FwcGxpY2F0aW9uL2pzb24nO1xuICB9XG4gIHB1YmxpYyBzZXQgY29udGVudFR5cGUodmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMub3B0aW9ucy5jb250ZW50VHlwZSA9IHZhbHVlO1xuICB9XG5cbn1cbiJdfQ==